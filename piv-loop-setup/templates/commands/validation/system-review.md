---
description: 分析计划与实现的偏差
argument-hint: [计划文件路径]
---

# /piv:system-review：系统审查

## 输入

计划文件：`$ARGUMENTS`

## 分析维度

### 1. 计划遵从性

- 计划交付的内容 vs 实际交付的内容
- 被削减或增加的功能
- 范围变更

### 2. 偏差分类

| 类型 | 描述 | 操作 |
|------|------|------|
| 好的偏差 | 找到更好的解决方案 | 记录并采用 |
| 中性偏差 | 等效的替代方案 | 记录并备注 |
| 糟糕的偏差 | 范围蔓延、遗漏部分 | 记录并修复 |

### 3. 根本原因分析

- 为什么出现偏差？
- 计划不充分吗？
- 执行不充分吗？

### 4. 流程改进

- 规划中需要改变什么？
- 执行中需要改变什么？
- 验证中需要改变什么？

## 输出

保存到 `.agents/system-reviews/[功能名]-review.md`：

```markdown
# 系统审查：[功能名称]

## 概述
- 计划：[计划文件]
- 实现：[完成日期]
- 审查者：Claude Code

## 计划遵从性

### 按计划进行
- [x] 功能 1
- [x] 功能 2

### 新增（好的偏差）
- [+] 功能 3 - 原因：[为什么需要这个]

### 移除（糟糕的偏差）
- [-] 功能 4 - 原因：[为什么被削减]

### 修改
- [~] 功能 5 - 从：[计划] → 到：[实际]

## 偏差分析

### 好的偏差
| 变更 | 原因 | 影响 |
|------|------|------|
| X → Y | 更好的方法 | 改善可维护性 |

### 糟糕的偏差
| 问题 | 根本原因 | 修复 |
|------|----------|------|
| 缺少测试 | 计划未指定 | 添加测试覆盖 |

## 流程指标

- 规划时间：X 小时
- 实现时间：Y 小时
- 返工周期：Z
- 验证周期：W

## 建议

### 针对本项目
1. [建议 1]
2. [建议 2]

### 针对未来项目
1. [建议 1]
2. [建议 2]

## 行动项
- [ ] 更新规划模板
- [ ] 为 X 添加验证
- [ ] 记录发现的新模式
```
