---
description: 设计阶段：根据需求生成项目结构和规范框架
argument-hint: [项目需求描述或PRD链接]
---

# /piv:design：设计阶段配置

## 输入

用户需求描述：`$ARGUMENTS`

## 执行步骤

### 第一步：理解需求

1. 提取核心功能需求
2. 识别用户价值和业务目标
3. 确定技术方向（前端/后端/全栈）
4. 评估项目复杂度

### 第二步：生成 PRD 文档

创建 `.claude/PRD.md`，包含以下结构：

```markdown
# 产品需求文档：[项目名称]

## 概述
- 状态：草稿 | 待评审 | 已批准
- 创建日期：[日期]
- 负责人：[姓名]

## 问题定义
我们要解决什么问题？

## 用户故事
1. 作为[用户类型]，我希望[功能]，以便[价值]
2. ...

## 功能需求

### 必选功能
| 编号 | 描述 | 优先级 |
|------|------|--------|
| F-01 | [功能] | P0 |
| F-02 | [功能] | P0 |

### 可选功能
| 编号 | 描述 | 优先级 |
|------|------|--------|
| F-03 | [功能] | P1 |

## 非功能需求
- 性能：[指标]
- 安全：[要求]
- 可用性：[要求]

## 技术说明
- 技术选型：[框架/语言]
- 依赖：[外部服务/库]
- 约束：[限制条件]

## 成功标准
- [ ] 标准 1
- [ ] 标准 2
```

### 第三步：创建命令框架

创建 `.claude/commands/` 目录结构：

```
.claude/commands/
├── core_piv_loop/
│   ├── prime.md      # 理解项目结构
│   ├── plan.md       # 创建实施计划
│   └── execute.md    # 执行计划
├── validation/
│   └── validate.md   # 验证质量
└── commit.md         # 提交代码
```

### 第四步：生成 .agents/README.md

创建 `.agents/README.md`，包含：

- 项目工作流说明
- 可用命令列表
- 新增规范指南

## 输出

1. `.claude/PRD.md` - 产品需求文档
2. `.claude/commands/` - 命令框架
3. `.agents/README.md` - 工作流说明

## 后续步骤

配置完成后，运行 `/piv:scan` 扫描现有代码（如有），或进入开发阶段。
